<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="mat24-pl">
	<link rel="shortcut icon" href="shortcut_icon.png">
	<title>Windows Longhorn 4081 | Desktop</title>
<style>
/* Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: Arial, sans-serif;
}

/* Pulpit */
body {
    background: url('longhorn-wallpaper.jpg') no-repeat center center/cover;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

/* Ikony na pulpicie */
.desktop {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    padding: 20px;
}

.icon {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 80px;
    cursor: pointer;
    margin-bottom: 15px;
	animation: fade-slide-in 0.5s ease-out forwards;
    opacity: 0; /* Początkowo ukryte */

}

.icon img {
    width: 50px;
    height: 50px;
}

.icon p {
    color: white;
    font-size: 14px;
    text-align: center;
}

/* Pasek zadań */
.taskbar {
    position: fixed;
    bottom: 0;
    width: 100%;
    height: 40px;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(10px);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 15px;
	animation: slide-up 0.5s ease-out forwards;
    opacity: 0; /* Początkowo ukryty */
}

@keyframes slide-up {
    from {
        transform: translateY(100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Przycisk Start */
.start-button img {
    width: 40px;
    height: 40px;
    cursor: pointer;
}

/* Zegar */
.clock {
    color: white;
    font-size: 16px;
}

/* Menu Start */
.start-menu {
    position: fixed;
    bottom: 40px;
    left: 10px;
    width: 200px;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    padding: 10px;
    border-radius: 5px;
    display: none;
	animation: slide-in-left 0.4s ease-out;
}

@keyframes slide-in-left {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.start-menu h3 {
    color: white;
    margin-bottom: 10px;
}

.start-menu ul {
    list-style: none;
}

.start-menu ul li {
    color: white;
    padding: 5px;
    cursor: pointer;
}

.start-menu ul li:hover {
    background: rgba(255, 255, 255, 0.2);
}
/* Efekt Aero */
.aero {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border-radius: 5px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

/* Animacja rozwijania */
@keyframes slide-in {
    from { transform: translateY(100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

@keyframes slide-out {
    from { transform: translateY(0); opacity: 1; }
    to { transform: translateY(100%); opacity: 0; }
}

/* Pasek widżetów */
.widget-panel {
    position: fixed;
    bottom: 40px;
    right: 10px;
    width: 200px;
    padding: 10px;
    display: none;
    animation: slide-in 0.3s ease-out;
}

.widget-panel.hidden {
    animation: slide-out 0.3s ease-in forwards;
}

/* Przycisk strzałki */
.widget-toggle {
    background: transparent;
    border: none;
    color: white;
    font-size: 16px;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.widget-toggle.open {
    transform: rotate(90deg);
}
/* Zegar na pasku zadań */
.clock-container {
    display: flex;
    align-items: center;
    background: rgba(255, 255, 255, 0.1);
}

.clock {
    width: 80px;
    padding: 5px;
    text-align: center;
    font-size: 14px;
    color: white;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(5px);
    border-radius: 3px;
}
/* Kontener głośności */
.volume-container {
    display: flex;
    align-items: center;
    position: relative;
}

.volume-container img {
    width: 20px;
    height: 20px;
    cursor: pointer;
}

/* Suwak głośności */
#volume-slider {
    position: absolute;
    bottom: 30px;
    right: 0;
    display: none;
    transform-origin: bottom;
    transform: scaleY(0);
    transition: transform 0.2s ease-out;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(5px);
    border-radius: 5px;
    padding: 5px;
}
/* Ekran zamykania */
.shutdown-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: none;
    justify-content: center;
    align-items: center;
    animation: fade-in 1s ease-out;
}

.shutdown-message {
    font-size: 30px;
    color: white;
    text-align: center;
    font-family: Arial, sans-serif;
}

@keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}
@keyframes fade-slide-in {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
/* Okno ustawień */
.settings-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: none;
    justify-content: center;
    align-items: center;
    animation: fade-in 0.3s ease-out;
}

/* Główna zawartość okna ustawień */
.settings-content {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    padding: 0;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    color: white;
    width: 250px;
    overflow: hidden;
}

/* Pasek nagłówka */
.settings-header {
    background: rgba(0, 100, 255, 0.5);
    padding: 10px;
    font-size: 16px;
    font-weight: bold;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* Przycisk zamykania */
.close-btn {
    background: rgb(200, 0, 0);
    color: white;
    border: none;
    width: 25px;
    height: 25px;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
    border-radius: 3px;
    transition: background 0.2s;
}

.close-btn:hover {
    background: rgb(255, 0, 0);
}

/* Zawartość okna ustawień */
.settings-body {
    padding: 15px;
}
/* Stylizacja sekcji tapety */
.wallpaper-settings {
    margin-top: 10px;
}
/* Powiadomienie */
.notification {
    position: fixed;
    bottom: 60px;
    right: 20px;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 10px 20px;
    border-radius: 5px;
    display: none;
    animation: fade-in 0.5s ease-out;
}

@keyframes fade-in {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes fade-out {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(20px); }
}
/* Ogólne stylowanie okna */
.window {
    position: fixed;
    width: 500px;
    height: 350px;
    background: rgba(255, 255, 255, 0.9); /* Efekt półprzezroczystości jak w Longhorn */
    border: 1px solid rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.4);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    backdrop-filter: blur(10px); /* Efekt szkła */
    overflow: hidden;
}

/* Nagłówek okna */
.window-header {
    background: linear-gradient(to right, #003366, #0055AA);
    color: white;
    padding: 8px;
    font-size: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* Tytuł w nagłówku */
.window-title {
    font-weight: bold;
    margin-left: 10px;
}

/* Przycisk zamykania */
.close-btn {
    background: none;
    border: none;
    color: white;
    font-size: 18px;
    cursor: pointer;
    padding: 0 10px;
}

.close-btn:hover {
    color: #ff5555;
}

/* Treść okna */
.window-content {
    padding: 20px;
    font-size: 14px;
}

/* Pusta zawartość Kosza */
.empty-message {
    text-align: center;
    font-style: italic;
    color: gray;
}

/* Okno aplikacji */
.window {
    position: fixed;
    width: 500px;
    height: 350px;
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.4);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    backdrop-filter: blur(10px);
    overflow: hidden;
}

/* Nagłówek okna */
.window-header {
    background: linear-gradient(to right, #003366, #0055AA);
    color: white;
    padding: 8px;
    font-size: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* Tytuł w nagłówku */
.window-title {
    font-weight: bold;
    margin-left: 10px;
}

/* Przycisk zamknięcia */
.close-btn {
    background: none;
    border: none;
    color: white;
    font-size: 18px;
    cursor: pointer;
    padding: 0 10px;
}

.close-btn:hover {
    color: #ff5555;
}

/* Treść okna */
.window-content {
    padding: 20px;
    font-size: 14px;
}

/* Lista dysków */
.drive-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding-top: 10px;
}

.drive {
    background: rgba(200, 200, 200, 0.4);
    padding: 8px;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.3s;
}

.drive:hover {
    background: rgba(180, 180, 180, 0.6);
}

/* Okno błędu */
.error-message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 300px;
    background: rgba(255, 50, 50, 0.9);
    color: white;
    border: 1px solid #770000;
    border-radius: 8px;
    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: Arial, sans-serif;
    overflow: hidden;
    animation: fadeIn 0.3s ease-in-out;
	z-index: 9999; /* Okno błędu zawsze na wierzchu */
}

/* Nagłówek komunikatu */
.error-header {
    background: #770000;
    padding: 10px;
    font-size: 16px;
    font-weight: bold;
}

/* Treść komunikatu */
.error-body {
    padding: 15px;
    font-size: 14px;
}

/* Stopka z przyciskiem */
.error-footer {
    padding: 10px;
    background: rgba(0, 0, 0, 0.2);
}

.error-footer button {
    background: white;
    color: #770000;
    border: none;
    padding: 5px 15px;
    cursor: pointer;
    font-weight: bold;
}

.error-footer button:hover {
    background: #ffcccc;
}

/* Animacja pojawiania się */
@keyframes fadeIn {
    from { opacity: 0; transform: translate(-50%, -55%); }
    to { opacity: 1; transform: translate(-50%, -50%); }
}

/* Ukrywanie okna na początku */
.hidden {
    display: none;
}

/* Ogólny styl okna dialogowego */
#dvd-dialog {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 300px;
    background: rgba(255, 50, 50, 0.9);
    color: white;
    border: 1px solid #770000;
    border-radius: 8px;
    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: Arial, sans-serif;
    overflow: hidden;
    animation: fadeIn 0.3s ease-in-out;
}

/* Górna część okna */
.dialog-header {
    background: #770000;
    padding: 10px;
    font-size: 16px;
    font-weight: bold;
}

/* Treść okna */
.dialog-body 
{
    padding: 15px;
    font-size: 14px;
	text-align: center;
}


/* Styl przycisków w stopce */
.dialog-footer button {
    background: white;
    color: #770000;
    border: none;
    padding: 5px 15px;
    cursor: pointer;
    font-weight: bold;
}

.dialog-footer button:hover {
    background: #ffcccc;
}

/* Ukrywanie okna na starcie */
.hidden {
    display: none;
}

/* Styl okna Internet Explorer */
#ie-window {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 800px;
    height: 600px;
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
    display: flex;
    flex-direction: column;
}

/* Pasek tytułu */
.ie-window-header {
    background: #005a9e;
    color: white;
    padding: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: bold;
}

/* Przycisk zamykania */
.ie-close-btn {
    background: none;
    border: none;
    color: white;
    font-size: 18px;
    cursor: pointer;
}

/* Zawartość okna */
.ie-window-body {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

/* Ramka przeglądarki (iframe) */
#ie-frame {
    width: 100%;
    height: 100%;
}

/* Pasek adresu */
.ie-window-toolbar {
    display: flex;
    padding: 5px;
    background: #e0e0e0;
    border-bottom: 1px solid #ccc;
}

.ie-window-toolbar input {
    flex-grow: 1;
    padding: 5px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 14px;
}

.ie-window-toolbar button {
    margin-right: 5px;
    padding: 5px;
    border: none;
    background: #0078d7;
    color: white;
    font-size: 14px;
    cursor: pointer;
    border-radius: 4px;
}

.ie-window-toolbar button:disabled {
    background: #ccc;
    cursor: default;
}

/* Stylizacja symulacji strony Google */
#google-simulation {
    text-align: center;
    padding-top: 50px;
}

#google-logo img {
    width: 200px;
}

#search-box {
    margin-top: 20px;
}

#google-search-input {
    width: 400px;
    padding: 10px;
    font-size: 14px;
    border: 2px solid #000000;
	box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
}

#google-buttons {
    margin-top: 10px;
}

#google-buttons button {
    padding: 10px 20px;
    margin: 5px;
    font-size: 14px;
    background-color: #f8f8f8;
    border: 1px solid #dcdcdc;
    cursor: pointer;
	box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
}

#google-buttons button:hover {
    background-color: #f1f1f1;
}
</style>
</head>
<body>
    <div class="desktop">
        <!-- Powiadomienie -->
<div class="notification" id="notification">
    👋 Welcome in Windows Longhorn 4081! NOTE! This is simulator. Not everything will work.
</div>

<!-- Dźwięk powiadomienia -->
<audio id="notification-sound" src="notification.wav"></audio>
        
		<!-- Ikony na pulpicie -->
        <div class="icon">
			<img src="ie6.png" alt="Internet Explorer" ondblclick="openIEWindow()">
			<p>Internet Explorer</p>
		</div>
		<div class="icon">
            <img src="computer-icon.png" alt="MyPC" ondblclick="openMyComputer()">
            <p>My Computer</p>
        </div>
        <div class="icon" ondblclick="openRecycleBin()">
            <img src="recycle-bin.png" alt="Recycle Bin">
            <p>Recycle Bin</p>
        </div>
    </div>

<div id="recycleBinWindow" class="window" style="display: none;"> <!-- Okno Kosza -->
    <div class="window-header">
        <span class="window-title">Recycle Bin</span>
        <button class="close-btn" onclick="closeRecycleBin()">✕</button>
    </div>
    <div class="window-content">
        <p class="empty-message">Empty.</p>
        <!-- Możesz tu dynamicznie generować listę plików w Koszu -->
    </div>
</div>

<div id="myComputerWindow" class="window" style="display: none;"> <!-- Okno Eksploratora -->
    <div class="window-header">
        <span class="window-title">💻 My Computer</span>
        <button class="close-btn" onclick="closeMyComputer()">✕</button>
    </div>
    <div class="window-content">
        <div class="computer-sections">
            <h3>💽 Discs</h3>
            <div class="drive-list">
                <div class="drive" onclick="showErrorMessage()">🖴 Local Disc (C:)</div>
                <div class="drive" onclick="showDVDdialog()">📀 DVD (D:)</div>
                <div class="drive" onclick="showErrorMessage()">📁 Desktop</div>
                <div class="drive" onclick="showErrorMessage()">📂 Documents</div>
                <div class="drive" onclick="showErrorMessage()">🎵 Music</div>
            </div>
        </div>
    </div>
</div>

<!-- Okno dialogowe dla stacji dysków -->
<div id="dvd-dialog" class="hidden">
    <div class="dialog-box">
        <div class="dialog-header">
            <span>💿 DVD drive</span>
        </div>
        <div class="dialog-body">
            <p>When you insert a disc into the DVD drive, the system will identify the contents.</p>
        </div>
        <div class="dialog-footer">
            <button onclick="closeDVDdialog()">OK</button>
        </div>
    </div>
</div>

<!-- Okno Internet Explorer -->
<div id="ie-window" class="hidden">
    <div class="ie-window-header">
        <span>Internet Explorer</span>
        <button class="close-btn" onclick="closeIEWindow()">X</button>
    </div>
    <div class="ie-window-toolbar">
        <button onclick="goBack()">⬅</button>
        <button onclick="goForward()">➡</button>
        <input type="text" id="ie-address-bar" value="https://www.googol.com" onkeydown="handleEnter(event)">
        <button onclick="showErrorMessage()">Go</button>
    </div>
    <div class="ie-window-body" id="ie-body">
	    <!-- Symulacja strony Google -->
        <div id="google-simulation">
            <div id="google-logo">
                <img src="google.png" alt="Google Logo">
            </div>
            <div id="search-box">
                <input type="text" id="google-search-input" placeholder="Search Googol">
                <div id="google-buttons">
                    <button onclick="showErrorMessage()">Googol Search</button>
                    <button onclick="showErrorMessage()">I'm Feeling Lucky</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Okno ustawień -->
<div class="settings-modal" id="settings-modal">
    <div class="settings-content">
        <!-- Pasek nagłówka -->
        <div class="settings-header">
            <span>⚙️ Settings</span>
            <button class="close-btn" onclick="closeSettings()">✖</button>
        </div>
        <!-- Zawartość ustawień -->
        <div class="settings-body">
            <p>Choose settings:</p>
            <label>
                <input type="checkbox" id="dark-mode-toggle"> Dark Mode
            </label>
            <br>
            <label>
                <input type="checkbox" id="show-widgets-toggle"> Show/hide widgets
            </label>
			<!-- Opcja wyboru tapety -->
<div class="wallpaper-settings">
    <p>Wallpaper:</p>
    <select id="wallpaper-select" onchange="changeWallpaper(this.value)">
        <option value="longhorn-wallpaper.jpg">Default</option>
        <option value="wallpaper1.jpg">Wallpaper 1</option>
        <option value="wallpaper2.jpg">Wallpaper 2</option>
        <option value="custom">Custom...</option>
    </select>
    <input type="file" id="custom-wallpaper" accept="image/*" style="display: none;" onchange="setCustomWallpaper(event)">
</div>
        </div>
	</div>
</div>

<div class="taskbar">
    <div class="start-button" onclick="toggleStartMenu()">
        <img src="start-icon.png" alt="Start">
    </div>
    <div class="clock-container">
        <button class="widget-toggle" onclick="toggleWidgets()">▶</button>
        <div class="volume-container">
    <img src="volume-icon.png" alt="Głośność" id="volume-icon" onclick="toggleVolumeSlider()">
    <input type="range" id="volume-slider" min="0" max="100" value="50" onchange="setVolume(this.value)">
</div>
        <div class="clock" id="clock"></div>
    </div>
    
</div>

<!-- Pasek widżetów -->
<div class="widget-panel" id="widget-panel">
    <h3>Widgets:</h3>
    <div class="widget">📅 Date: <span id="date"></span></div>
    <div class="widget">⏳ Uptime: <span id="uptime"></span></div>
    <div class="widget">📝 Memos: <textarea id="notes"></textarea></div>
</div>

    <!-- Menu Start -->
    <div class="start-menu" id="start-menu">
        <h3>Start</h3>
        <ul>
            <li onclick="showErrorMessage()">💻Programs</li>
            <li onclick="showErrorMessage()">🗃Documents</li>
            <li onclick="showErrorMessage()">🔎Search</li>
            <li onclick="openSettings()">⚙️Settings</li>
            <li onclick="logout()">🔑Log off</li>
            <div class="start-item" onclick="shutdownSystem()">
            <li>📴Shut Down</li>
            </div>
        </ul>
    </div>

	<!-- Ekran zamykania systemu -->
	<div class="shutdown-screen" id="shutdown-screen">
		<div class="shutdown-message">Shutting down. . .</div>
	</div>

    <script>
	// Przełączanie menu Start
function toggleStartMenu() {
    let menu = document.getElementById("start-menu");
    menu.style.display = (menu.style.display === "block") ? "none" : "block";
}

// Pasek widżetów
function toggleWidgets() {
    let panel = document.getElementById("widget-panel");
    let button = document.querySelector(".widget-toggle");

    if (panel.style.display === "block") {
        panel.classList.add("hidden");
        setTimeout(() => { panel.style.display = "none"; }, 300);
        button.classList.remove("open");
    } else {
        panel.style.display = "block";
        panel.classList.remove("hidden");
        button.classList.add("open");
    }
}

// Aktualizacja daty i czasu pracy systemu
function updateWidgets() {
    document.getElementById("date").textContent = new Date().toLocaleDateString();

    let uptime = Math.floor(performance.now() / 1000);
    let minutes = Math.floor(uptime / 60);
    let seconds = uptime % 60;
    document.getElementById("uptime").textContent = `${minutes} min ${seconds} sec`;
}

setInterval(updateWidgets, 1000);
updateWidgets();

setInterval(updateClock, 1000);
updateClock();

// Zamknięcie menu Start po kliknięciu poza nim
document.addEventListener("click", function (event) {
    let menu = document.getElementById("start-menu");
    let button = document.querySelector(".start-button img");
    
    if (event.target !== menu && event.target !== button) {
        menu.style.display = "none";
    }
});
// Aktualizacja zegara z sekundnikiem
function updateClock() {
    let now = new Date();
    let hours = now.getHours().toString().padStart(2, "0");
    let minutes = now.getMinutes().toString().padStart(2, "0");
    let seconds = now.getSeconds().toString().padStart(2, "0");
    document.getElementById("clock").textContent = `${hours}:${minutes}:${seconds}`;
}

setInterval(updateClock, 1000);
updateClock();
// Przełączanie regulatora głośności
function toggleVolumeSlider() {
    let slider = document.getElementById("volume-slider");
    if (slider.style.display === "block") {
        slider.style.transform = "scaleY(0)";
        setTimeout(() => { slider.style.display = "none"; }, 200);
    } else {
        slider.style.display = "block";
        slider.style.transform = "scaleY(1)";
    }
}

// Ustawianie głośności (symulacja)
function setVolume(value) {
    console.log("Ustawiona głośność:", value);
}

// Ukrywanie regulatora po kliknięciu poza nim
document.addEventListener("click", function (event) {
    let slider = document.getElementById("volume-slider");
    let icon = document.getElementById("volume-icon");

    if (event.target !== slider && event.target !== icon) {
        slider.style.transform = "scaleY(0)";
        setTimeout(() => { slider.style.display = "none"; }, 200);
    }
});
// Funkcja odtwarzająca dźwięk po zmianie głośności
let volumeChangeSound = new Audio('volume-change.wav');

// Funkcja ustawiająca głośność
function setVolume(value) {
    console.log("Ustawiona głośność:", value);
    volumeChangeSound.play();  // Odtwarzanie dźwięku
}
// Funkcja do zamykania systemu
function shutdownSystem() {
    // Odtwarzanie dźwięku zamykania
    let shutdownSound = new Audio('shutdown-sound.wav');
    shutdownSound.play();

    // Pokazanie ekranu zamykania
    let shutdownScreen = document.getElementById('shutdown-screen');
    shutdownScreen.style.display = 'flex';

    // Zatrzymanie wszystkich innych interakcji po kilku sekundach
    setTimeout(() => {
        window.close();  // Zamknięcie okna (symulacja)
    }, 8000);  // Po 8 sekundach

    // Po zakończeniu animacji ekranu zamykania, zamykamy kartę
    shutdownScreen.addEventListener('animationend', function() {
        window.close();  // Zamknięcie okna po zakończeniu animacji
    });
}
// Funkcja otwierająca okno ustawień
function openSettings() {
    document.getElementById("settings-modal").style.display = "flex";
}

// Funkcja zamykająca okno ustawień
function closeSettings() {
    document.getElementById("settings-modal").style.display = "none";
}

// Obsługa opcji "Tryb ciemny"
document.getElementById("dark-mode-toggle").addEventListener("change", function () {
    if (this.checked) {
        document.body.style.background = "#222";
    } else {
        document.body.style.background = "url('longhorn-wallpaper.jpg') no-repeat center center/cover";
    }
});

// Obsługa opcji "Pokaż widżety"
document.getElementById("show-widgets-toggle").addEventListener("change", function () {
    let widgetPanel = document.getElementById("widget-panel");
    if (this.checked) {
        widgetPanel.style.display = "block";
    } else {
        widgetPanel.style.display = "none";
    }
});
// Funkcja zmieniająca tapetę
function changeWallpaper(value) {
    if (value === "custom") {
        document.getElementById("custom-wallpaper").click();
    } else {
        document.body.style.background = `url('${value}') no-repeat center center/cover`;
        localStorage.setItem("wallpaper", value); // Zapamiętujemy tapetę
        localStorage.setItem("wallpaper-name", value); // Zapamiętujemy nazwę
        document.getElementById("wallpaper-select").value = value; // Ustawiamy na liście
    }
}

// Funkcja ustawiająca własną tapetę
function setCustomWallpaper(event) {
    const file = event.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
            document.body.style.background = `url('${e.target.result}') no-repeat center center/cover`;
            localStorage.setItem("wallpaper", e.target.result); // Zapamiętujemy tapetę
            localStorage.setItem("wallpaper-name", "custom"); // Zapisujemy jako "custom"
            document.getElementById("wallpaper-select").value = "custom"; // Ustawiamy na liście
        };
        reader.readAsDataURL(file);
    }
}

// Przywracanie tapety i ustawień po odświeżeniu strony
document.addEventListener("DOMContentLoaded", function () {
    const savedWallpaper = localStorage.getItem("wallpaper");
    const savedWallpaperName = localStorage.getItem("wallpaper-name");

    if (savedWallpaper) {
        document.body.style.background = `url('${savedWallpaper}') no-repeat center center/cover`;
        if (savedWallpaperName) {
            document.getElementById("wallpaper-select").value = savedWallpaperName;
        }
    }
});
//Powiadomienie
function showNotification() {
    let notification = document.getElementById("notification");
    let sound = document.getElementById("notification-sound");

    notification.style.display = "block";  
    sound.play();  

    setTimeout(() => {
        notification.style.animation = "fade-out 0.5s ease-out";
        setTimeout(() => {
            notification.style.display = "none";
            notification.style.animation = "fade-in 0.5s ease-out"; // Reset animacji
        }, 500);
    }, 6000);
}

// Uruchomienie powiadomienia po załadowaniu strony
window.onload = function() {
    showNotification();
};

// Funkcja wylogowywująca
function logout() {
    let logoutSound = new Audio('logout.wav');
    logoutSound.play();
    
    setTimeout(() => {
        window.location.href = 'logon.html';
    }, 3000); // Czas na odtworzenie dźwięku przed przekierowaniem
}

// Funkcja do pokazania okna dialogowego
function showDVDdialog() {
    const dialog = document.getElementById('dvd-dialog');
    dialog.style.display = 'block'; // Pokazujemy okno
    setTimeout(() => {
        dialog.style.opacity = 1; // Ustawiamy pełną widoczność okna (animacja)
    }, 10);
}

// Funkcja do zamknięcia okna dialogowego
function closeDVDdialog() {
    const dialog = document.getElementById('dvd-dialog');
    dialog.style.opacity = 0; // Zaczynamy animację wygasania
    setTimeout(() => {
        dialog.style.display = 'none'; // Po zakończeniu animacji ukrywamy okno
    }, 500); // Czas trwania animacji wygasania
}

// Tablica do przechowywania historii odwiedzonych stron
let historyStack = [];
let historyIndex = -1;

// Otwieranie okna IE
function openIEWindow() {
    const ieWindow = document.getElementById("ie-window");
    ieWindow.style.display = "block";
    setTimeout(() => {
        ieWindow.style.opacity = 1;
    }, 10);

    // Resetujemy historię i ładujemy domyślną stronę
    historyStack = ["https://www.google.com"];
    historyIndex = 0;
    updateNavButtons();
    loadIEPage();
}

// Zamknięcie okna IE
function closeIEWindow() {
    const ieWindow = document.getElementById("ie-window");
    ieWindow.style.opacity = 0;
    setTimeout(() => {
        ieWindow.style.display = "none";
    }, 300);
}

// Funkcja ładowania strony
function loadIEPage(newPage = true) {
    const addressBar = document.getElementById("ie-address-bar");
    const url = addressBar.value;

    // Dodajemy do historii
    if (newPage) {
        historyStack = historyStack.slice(0, historyIndex + 1); // Usuwamy przyszłe wpisy, jeśli cofaliśmy się
        historyStack.push(url);
        historyIndex++;
    }

    updateNavButtons();
}

// Obsługa klawisza Enter w pasku adresu
function handleEnter(event) {
    if (event.key === "Enter") {
        loadIEPage();
    }
}

// Funkcja "Wstecz"
function goBack() {
    if (historyIndex > 0) {
        historyIndex--;
        document.getElementById("ie-address-bar").value = historyStack[historyIndex];
        loadIEPage(false);
    }
}

// Funkcja "Naprzód"
function goForward() {
    if (historyIndex < historyStack.length - 1) {
        historyIndex++;
        document.getElementById("ie-address-bar").value = historyStack[historyIndex];
        loadIEPage(false);
    }
}

// Aktualizacja przycisków nawigacji
function updateNavButtons() {
    document.querySelector(".window-toolbar button:nth-child(1)").disabled = historyIndex === 0;
    document.querySelector(".window-toolbar button:nth-child(2)").disabled = historyIndex === historyStack.length - 1;
}

// Otwarcie Kosza
function openRecycleBin() {
    let windowElement = document.getElementById("recycleBinWindow");
    windowElement.style.display = "block";
}

//Zamknięcie Kosza
function closeRecycleBin() {
    document.getElementById("recycleBinWindow").style.display = "none";
}

//Otwieranie Eksploratora
function openMyComputer() {
    document.getElementById("myComputerWindow").style.display = "block";
}

// Zamykanie Eksploratora
function closeMyComputer() {
    document.getElementById("myComputerWindow").style.display = "none";
}

// Funkcja do odtwarzania dźwięku błędu
function playErrorSound() {
    let errorSound = new Audio('assets/error.wav');  // Ścieżka do pliku dźwiękowego
    errorSound.play();
}

function showErrorMessage() {
    // Odtwarzanie dźwięku błędu
    playErrorSound();

    // Tworzenie elementu komunikatu
    let errorMessage = document.createElement("div");
    errorMessage.classList.add("error-message");
    errorMessage.innerHTML = `
        <div class="error-header">
            ❌ System Error
        </div>
        <div class="error-body">
            The function is in progress. Please try again later.
        </div>
        <div class="error-footer">
            <button onclick="closeErrorMessage()">OK</button>
        </div>
    `;

    // Dodanie komunikatu do body
    document.body.appendChild(errorMessage);
}

function closeErrorMessage() {
    let errorBox = document.querySelector(".error-message");
    if (errorBox) {
        errorBox.remove();
    }
}
	</script>
</body>
</html>
